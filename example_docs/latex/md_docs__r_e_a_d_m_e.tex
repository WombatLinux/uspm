{\texttt{ }} {\texttt{ }}

Ultra Simple Package Manager (U\+S\+PM) is a suite of executables that overall allow for the management of packages.

{\itshape {\bfseries{P\+L\+E\+A\+SE N\+O\+TE}}}\+: Releases on this Git\+Hub {\itshape {\bfseries{W\+I\+LL N\+OT}}} work on Wombat Linux or other Musl-\/based systems, please use the provided uspm package for that specific operating system.

Here is a list of the current tools\+:
\begin{DoxyItemize}
\item uspm\+: The main application that allows for the installation and uninstallation of software packages and their dependencies.
\item uspm-\/mkpkg\+: This optional application is useful for those who want to design U\+S\+PM packages
\item uspm-\/extended\+: This optional application adds more commands and functions to {\ttfamily uspm} and is only there for those who want it.
\end{DoxyItemize}

The project also contains {\ttfamily libuspp}, or Ultra Simple Package Processor, which contains the functions necessary to enable all the functionality of {\ttfamily uspm}\doxysubsection{How it works}\label{md_docs__r_e_a_d_m_e_autotoc_md33}
All packages come in {\ttfamily .uspm} files, which are just tarballs. Within the tarball there must be two included files.

{\ttfamily P\+A\+C\+K\+A\+G\+E\+C\+O\+DE} is the install/uninstall script, it contains all the code necessary to install that package

{\ttfamily P\+A\+C\+K\+A\+G\+E\+D\+A\+TA} is the J\+S\+ON data that will get added by the package manager to the master list.

The tarballs usually will contain the files necessary to install already compiled code.\doxysubsection{Building and Installing}\label{md_docs__r_e_a_d_m_e_autotoc_md34}
This package requires {\bfseries{at least}} {\ttfamily c\+J\+S\+ON} ({\texttt{ found here}}) and libcurl

There are 2 ways to install\+:

1) Through Make (this requires G\+CC) [{\itshape {\bfseries{not recommended}}}] 
\begin{DoxyCode}{0}
\DoxyCodeLine{git clone https://github.com/afroraydude/uspm.git}
\DoxyCodeLine{cd uspm}
\DoxyCodeLine{make uspm}
\DoxyCodeLine{make install}
\end{DoxyCode}


2) Through C\+Make (clang or gcc) 
\begin{DoxyCode}{0}
\DoxyCodeLine{git clone https://github.com/afroraydude/uspm.git}
\DoxyCodeLine{cd uspm}
\DoxyCodeLine{mkdir build}
\DoxyCodeLine{cd build}
\DoxyCodeLine{cmake ..}
\DoxyCodeLine{make}
\DoxyCodeLine{make install}
\end{DoxyCode}
\doxysubsection{How to create a package for U\+S\+PM}\label{md_docs__r_e_a_d_m_e_autotoc_md35}
\doxysubsubsection{The easy way}\label{md_docs__r_e_a_d_m_e_autotoc_md36}
1) Compile the package from source

2) Place all compiled files in a folder

3) Make a folder with the name of the package and place the previous folder in that

4) Enter the directory

5) Run {\ttfamily uspm-\/mkpkg} and follow instructions

6) Exit the directory, you should now have a {\ttfamily .uspm} package file. ex\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir -\/p /tmp/package/files }
\DoxyCodeLine{}
\DoxyCodeLine{mkdir build}
\DoxyCodeLine{cd build}
\DoxyCodeLine{}
\DoxyCodeLine{../configure -\/-\/prefix=/tmp/package/files/}
\DoxyCodeLine{make }
\DoxyCodeLine{make install}
\DoxyCodeLine{}
\DoxyCodeLine{cd /tmp/package}
\DoxyCodeLine{uspm-\/mkpkg}
\end{DoxyCode}
\doxysubsubsection{The hard way}\label{md_docs__r_e_a_d_m_e_autotoc_md37}
1) Compile the package from source

2) Place all compiled files in a folder

3) Make a folder with the name of the package and place the previous folder in that

4) Inside the package folder, create two files\+: {\ttfamily P\+A\+C\+K\+A\+G\+E\+C\+O\+DE} and {\ttfamily P\+A\+C\+A\+K\+G\+E\+D\+A\+TA}

5) In P\+A\+C\+K\+A\+G\+E\+C\+O\+DE, include all the code necessary to migrate the compiled files into the system so that they are usable, put it in a function that can be called by {\ttfamily P\+A\+C\+K\+A\+G\+E\+C\+O\+DE install} ({\bfseries{N\+O\+TE\+: This must be a shell script}})

6) In P\+A\+C\+K\+A\+G\+E\+C\+O\+DE, include all the code necessary to allow for an uninstallation of all files, in a function that can be called by {\ttfamily P\+A\+C\+K\+A\+G\+E\+C\+O\+DE uninstall}

7) In P\+A\+C\+K\+A\+G\+E\+D\+A\+TA, include the version and dependencies (ex\+: {\ttfamily \{\char`\"{}version\char`\"{}\+:\char`\"{}1.\+0.\+0\char`\"{}, \char`\"{}dependencies\char`\"{}\+:\{\char`\"{}test\char`\"{}\+:\char`\"{}1.\+0.\+0\char`\"{},\char`\"{}test2\char`\"{}\+:\char`\"{}1.\+0.\+0\char`\"{}\}\}})

8) Archive the whole directory into a tarball and make sure the extension is {\ttfamily .uspm}

9) Done!

Example {\ttfamily P\+A\+C\+K\+A\+G\+E\+D\+A\+TA} file 
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{  "{}version"{}: "{}1.0.0"{},}
\DoxyCodeLine{  "{}dependencies"{}: \{"{}uspm"{}: "{}1.0.0"{}\}}
\DoxyCodeLine{\}}
\end{DoxyCode}


Example {\ttfamily P\+A\+C\+K\+A\+G\+E\+C\+O\+DE} file 
\begin{DoxyCode}{0}
\DoxyCodeLine{cd package}
\DoxyCodeLine{}
\DoxyCodeLine{\# Install }
\DoxyCodeLine{if [ \$1 == 'install' ]}
\DoxyCodeLine{then}
\DoxyCodeLine{  cp -\/R files/* /usr/}
\DoxyCodeLine{}
\DoxyCodeLine{\# Uninstall}
\DoxyCodeLine{elif [ \$1 == 'uninstall' ]}
\DoxyCodeLine{then}
\DoxyCodeLine{  rm /usr/local/bin/example}
\DoxyCodeLine{f}
\end{DoxyCode}
 